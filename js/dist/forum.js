module.exports=function(e){var t={};function s(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,s),n.l=!0,n.exports}return s.m=e,s.c=t,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=17)}([function(e,t){e.exports=flarum.core.compat.app},function(e,t){e.exports=flarum.core.compat.extend},function(e,t){e.exports=flarum.core.compat["models/Discussion"]},function(e,t){e.exports=flarum.core.compat["components/CommentPost"]},function(e,t){e.exports=flarum.core.compat.Model},function(e,t,s){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}s.d(t,"a",function(){return r})},function(e,t){e.exports=flarum.core.compat["helpers/icon"]},function(e,t){e.exports=flarum.core.compat["components/Button"]},function(e,t){e.exports=flarum.core.compat["components/DiscussionPage"]},function(e,t){e.exports=flarum.core.compat["components/Post"]},function(e,t){e.exports=flarum.core.compat["components/Badge"]},function(e,t){e.exports=flarum.core.compat["components/PostMeta"]},function(e,t){e.exports=flarum.core.compat["helpers/username"]},function(e,t){e.exports=flarum.core.compat["helpers/userOnline"]},function(e,t){e.exports=flarum.core.compat["components/Notification"]},,,function(e,t,s){"use strict";s.r(t);var r=s(0),n=s.n(r),o=s(2),a=s.n(o),u=s(4),i=s.n(u),c=s(1),p=s(7),f=s.n(p),l=s(3),d=s.n(l),b=s(8),w=s.n(b),A=s(9),P=s.n(A),h=s(6),y=s.n(h),x=s(10),v=s.n(x),_=s(11),O=s.n(_),j=s(12),B=s.n(j),N=s(13),U=s.n(N),g=s(5),S=s(14),I=function(e){function t(){return e.apply(this,arguments)||this}Object(g.a)(t,e);var s=t.prototype;return s.icon=function(){return"fas fa-check"},s.href=function(){var e=this.props.notification.subject();return app.route.discussion(e,1)},s.content=function(){return app.translator.trans("flarum-best-answer.forum.notification.content")},t}(s.n(S).a);n.a.initializers.add("wiwatSrt-bestAnswer",function(){a.a.prototype.bestAnswerPost=i.a.hasOne("bestAnswerPost"),a.a.prototype.bestAnswerUser=i.a.hasOne("bestAnswerUser"),a.a.prototype.startUserId=i.a.attribute("startUserId",Number),a.a.prototype.firstPostId=i.a.attribute("firstPostId",Number),a.a.prototype.canSelectBestAnswer=i.a.attribute("canSelectBestAnswer"),Object(c.extend)(d.a.prototype,"actionItems",function(e){var t=this.props.post,s=this.props.post.discussion(),r=s.bestAnswerPost()&&s.bestAnswerPost().id()===t.id();t.pushAttributes({isBestAnswer:r}),!t.isHidden()&&1!==t.number()&&s.canSelectBestAnswer()&&n.a.session.user&&(r||n.a.forum.attribute("canSelectBestAnswerOwnPost")||t.user().id()!==n.a.session.user.id())&&e.add("bestAnswer",f.a.component({children:n.a.translator.trans(r?"flarum-best-answer.forum.remove_best_answer":"flarum-best-answer.forum.this_best_answer"),className:"Button Button--link",onclick:function(){r=!r,s.save({bestAnswerPostId:r?t.id():0,bestAnswerUserId:n.a.session.user.id(),relationships:r?{bestAnswerPost:t,bestAnswerUser:n.a.session.user}:delete s.data.relationships.bestAnswerPost}).then(function(){n.a.current instanceof w.a&&n.a.current.stream.update(),m.redraw()}),r&&m.route(n.a.route.post(s.posts()[0]))}}))}),Object(c.extend)(d.a.prototype,"headerItems",function(e){var t=this.props.post;t.discussion().bestAnswerPost()&&t.discussion().bestAnswerPost().id()===t.id()&&!t.isHidden()&&e.add("isBestAnswer",m("div",{className:"Post--BestAnswer"},m("span",null,y()("fas fa-check"),n.a.translator.trans("flarum-best-answer.forum.best_answer_button")),m("span",{className:"BestAnswer--User"},n.a.translator.trans("flarum-best-answer.forum.best_answer_label",{user:t.discussion().bestAnswerUser(),a:m("a",{onclick:function(){return m.route(n.a.route.user(t.discussion().bestAnswerUser()))}})}))))}),Object(c.extend)(P.a.prototype,"attrs",function(e){var t=this.props.post;t.discussion().bestAnswerPost()&&t.discussion().bestAnswerPost().id()===t.id()&&!t.isHidden()&&(e.className+=" Post--bestAnswer")}),Object(c.extend)(a.a.prototype,"badges",function(e){this.bestAnswerPost()&&!e.has("hidden")&&e.add("bestAnswer",m(v.a,{type:"bestAnswer",icon:"fas fa-check",label:n.a.translator.trans("flarum-best-answer.forum.best_answer")}))}),Object(c.extend)(d.a.prototype,"footerItems",function(e){var t=this.props.post,s=t.discussion();if(s.bestAnswerPost()&&1===t.number()&&!t.isHidden()){var r=s.bestAnswerPost();if(r.isHidden())return;var o=r.user();e.add("bestAnswerPost",m("div",{className:"CommentPost"},m("div",{className:"Post-header"},m("ul",null,m("li",{className:"item-user"},m("div",{className:"PostUser"},U()(o),m("h3",null,m("a",{href:n.a.route.user(o),config:m.route},B()(o))))),m("li",{className:"item-meta"},O.a.component({post:r})),m("li",{className:"Post--BestAnswer"},m("a",{href:n.a.route.post(r),config:m.route,"data-number":r.number()},y()("fas fa-check"),n.a.translator.trans("flarum-best-answer.forum.best_answer_button")),m("span",{className:"BestAnswer--User"},n.a.translator.trans("flarum-best-answer.forum.best_answer_label",{user:s.bestAnswerUser(),a:m("a",{onclick:function(){return m.route(n.a.route.user(s.bestAnswerUser()))}})}))))),m("div",{className:"Post-body"},m.trust(r.contentHtml()))),-10)}}),app.notificationComponents.selectBestAnswer=I})}]);
//# sourceMappingURL=forum.js.map